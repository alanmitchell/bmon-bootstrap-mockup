<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">

<head>
    <title>Building Monitoring - Reports/Charts</title>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

</head>

<body style="background:#D4E7F7">
    <span id="BaseURL" style="display:none">/</span>
    <div class="jumbotron jumbotron-fluid py-2 mb-0 text-light" style="background:rgb(24, 102, 167)">
        <div class="container">
            <h1 class="d-flex justify-content-center">
                Analysis North Building Monitoring
            </h1>
        </div>
    </div>
    <div class="container-fluid" style="background:rgb(220, 220, 220)">
        <div class="container">
            <div class="row flex justify-content-between px-0 mx-1 mb-0">
                <form class="form-inline">
                    <label class="mr-2" for="select_org" id="label_org"">Organization:</label>
                    <select class=" form-control" id="select_org" name="select_org">
                        <option value="0" selected>All Organizations</option>
                        <option value="1">Homes</option>
                        <option value="2">THRHA</option>
                        <option value="3">Other Commercial</option>
                    </select>
                </form>
                <div>
                    <nav class="navbar navbar-expand-lg navbar-light">
                        <button class="navbar-toggler" data-toggle="collapse" data-target="#myNav2">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="myNav2">
                            <ul class="navbar-nav nav-pills" id="nav_links">
                                <li class="nav-item"><a href="#" class="nav-link" id="link_map">Map</a></li>
                                <li class="nav-item"><a href="#" class="nav-link active"
                                        id="link_reports">Graphs/Reports</a></li>
                                <li class="nav-item"><a href="#" class="nav-link" id="link_custom-reports">Custom
                                        Reports</a></li>
                                <li class="nav-item"><a href="#" class="nav-link" id="link_training-anthc">Training</a></li>
                                <li class="nav-item"><a href="#" class="nav-link" id="link_admin-reports">Sys Admin</a></li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <div class="container mt-0 pt-3" id="wrap">

        <form class="form-inline" id="nav">
            <div class="form-group col-auto">
            </div>
        </form>

        <div id="content">
            <h2>Charts and Reports</h2>

            <form>
                <div class="form-row align-items-end">
                    <div class="form-group col-auto">
                        <label for="select_group">Facility Group:</label>
                        <select class="form-control" id="select_group" name="select_group">
                            <option value="0" selected>All Facilities</option>
                            <option value="1">THRHA Pellet Boiler Buildings</option>
                        </select>
                    </div>
                    <div class="form-group col-auto">
                        <label for="select_bldg">Facility:</label>
                        <select class="form-control" id="select_bldg" name="select_bldg">
                            <option value="9" selected>CCHRC</option>
                            <option value="16">Chris&#39;s House</option>
                            <option value="8">Dustin&#39;s Neighborhood</option>
                            <option value="4">Homer Strawbale</option>
                            <option value="14">Ian&#39;s House</option>
                            <option value="5">Kaluza House</option>
                            <option value="3">Mitchell House</option>
                            <option value="7">Rehfeldt Home</option>
                            <option value="13">Resolution Brewing</option>
                            <option value="6">Rivendell Hall</option>
                            <option value="18">THRHA Angoon Housing</option>
                            <option value="17">THRHA Juneau Warehouse</option>
                            <option value="2">THRHA Kake Senior Center</option>
                            <option value="19">Tyler&#39;s House</option>
                        </select>
                    </div>
                    <div class="form-group col-auto">
                        <label for="select_chart">Graph/Report:</label>
                        <select class="form-control" id="select_chart" name="select_chart">
                            <option value="1" data-ctrls="refresh" data-multi_sensor="0" data-auto_recalc="1"
                                data-timed_refresh="1" selected>Current Sensor Values</option>
                            <option value="2" data-ctrls="refresh, ctrl_sensor, ctrl_avg, ctrl_occupied, time_period"
                                data-multi_sensor="1" data-auto_recalc="1" data-timed_refresh="0">Plot Sensor Values
                                over Time</option>
                            <option value="3" data-ctrls="refresh, ctrl_sensor, ctrl_normalize, time_period"
                                data-multi_sensor="0" data-auto_recalc="1" data-timed_refresh="0">Hourly Profile of a
                                Sensor</option>
                            <option value="4" data-ctrls="refresh, ctrl_sensor, time_period" data-multi_sensor="0"
                                data-auto_recalc="1" data-timed_refresh="0">Heat Map Hourly Profile</option>
                            <option value="5" data-ctrls="refresh, ctrl_sensor, ctrl_avg, time_period"
                                data-multi_sensor="0" data-auto_recalc="1" data-timed_refresh="0">Histogram of a Sensor
                            </option>
                            <option value="6" data-ctrls="refresh, xy_controls, time_period" data-multi_sensor="0"
                                data-auto_recalc="1" data-timed_refresh="0">Sensor X vs Y Scatter Plot</option>
                            <option value="8" data-ctrls="refresh, ctrl_sensor, time_period" data-multi_sensor="0"
                                data-auto_recalc="1" data-timed_refresh="0">Cycle Time Analysis</option>
                            <option value="7" data-ctrls="ctrl_sensor, ctrl_avg_export, time_period, download_many"
                                data-multi_sensor="1" data-auto_recalc="0" data-timed_refresh="0">Download Sensor Data
                                to Excel</option>
                        </select>
                    </div>
                    <div class="form-group col-auto">
                        <button class="btn btn-primary col" id="refresh" type="button">Refresh Data</button>
                    </div>
                </div>
            </form>
            <hr class="mt-1">
            <form>
                <div class="form-row align-items-end">
                    <div class="form-group col-auto" id="ctrl_sensor">
                        <label for="select_sensor">Select Values to Plot:</label>
                        <select class="form-control" id="select_sensor" name="select_sensor">
                            <optgroup label="Weather">
                                <option value="149" selected>CCHRC Outdoor Temperature</option>
                                <option value="71">Fairbanks Airport Temp</option>
                                <option value="72">Fairbanks Airport Wind</option>
                            </optgroup>
                            <optgroup label="Solar PV">
                                <option value="162">CCHRC PV Output</option>
                            </optgroup>
                            <optgroup label="Space Conditions, Temperature">
                                <option value="148">Room Temperature</option>
                            </optgroup>
                            <optgroup label="Space Conditions, Humidity">
                                <option value="147">Room Humidity</option>
                            </optgroup>
                            <optgroup label="Space Conditions, CO2">
                                <option value="146">Return Air CO2</option>
                            </optgroup>
                            <optgroup label="Utilities/Fuel">
                                <option value="143">Boiler 2 Fuel Consumption</option>
                                <option value="145">Whole Building Electrical Power</option>
                            </optgroup>
                            <optgroup label="Miscellaneous">
                                <option value="144">CCHRC_DEM_CONSUMPTN_HI</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="form-group col-auto" id="ctrl_avg">
                        <label for="averaging_time">Data Averaging:</label>
                        <select class="form-control" id="averaging_time" name="averaging_time">
                            <option value="0" selected>None</option>
                            <option value="0.5">30 minutes</option>
                            <option value="1">1 hour</option>
                            <option value="2">2 hour</option>
                            <option value="4">4 hour</option>
                            <option value="8">8 hour</option>
                            <option value="24">1 day</option>
                            <option value="168">1 week</option>
                            <option value="720">1 month</option>
                            <option value="8760">1 year</option>
                        </select>
                    </div>
                    <div class="form-check mb-4 ml-3">
                        <input class="form-check-input" type="checkbox" value="" id="show_occupied"
                            name="show_occupied">
                        <label class="form-check-label" for="show_occupied">
                            Shade Occupied Periods
                        </label>
                    </div>
                    <!--
                    <div class="btn-group-toggle col-auto mb-3" data-toggle="buttons">
                        <label class="btn btn-info active">
                            <input type="checkbox" id="show_occupied" name="show_occupied" autocomplete="off"> Show Occupied Periods
                        </label>
                    </div> -->
                </div>
            </form>

            <hr class="mt-1">
            <form>
                <div class="form-row align-items-end">
                    <div class="btn-group btn-group-toggle form-group col-auto" data-toggle="buttons">
                        <label class="btn btn-secondary btn-sm">
                            <input type="radio" name="time_period" id="4h" value="0.16667" autocomplete="off">4 hr
                        </label>
                        <label class="btn btn-secondary btn-sm">
                            <input type="radio" name="time_period" id="1d" value="1" autocomplete="off">1 da
                        </label>
                        <label class="btn btn-secondary btn-sm">
                            <input type="radio" name="time_period" id="3d" value="3" autocomplete="off">3 da
                        </label>
                        <label class="btn btn-secondary btn-sm active">
                            <input type="radio" name="time_period" id="1w" value="7" autocomplete="off">1 wk
                        </label>
                        <label class="btn btn-secondary btn-sm">
                            <input type="radio" name="time_period" id="2w" value="14" autocomplete="off">2 wk
                        </label>
                        <label class="btn btn-secondary btn-sm">
                            <input type="radio" name="time_period" id="1m" value="31" autocomplete="off">1 mo
                        </label>
                        <label class="btn btn-secondary btn-sm">
                            <input type="radio" name="time_period" id="2m" value="61" autocomplete="off">2 mo
                        </label>
                        <label class="btn btn-secondary btn-sm">
                            <input type="radio" name="time_period" id="4m" value="122" autocomplete="off">4 mo
                        </label>
                        <label class="btn btn-secondary btn-sm">
                            <input type="radio" name="time_period" id="1y" value="365" autocomplete="off">1 yr
                        </label>
                        <label class="btn btn-secondary btn-sm">
                            <input type="radio" name="time_period" id="all" value="10000" autocomplete="off">All
                        </label>
                        <label class="btn btn-secondary btn-sm">
                            <input type="radio" name="time_period" id="custom" value="custom" autocomplete="off">Custom
                        </label>
                    </div>
                    <div class="form-group col-auto" id="custom_dates">
                        Start: <input id="start_date" type="text" name="start_date" size="7" />
                        End: <input id="end_date" type="text" name="end_date" size="7" />
                    </div>
                </div>
            </form>

            <div class="mt-3" id="results">
            </div>

            <a id="get_embed_link" style="float: right;">-- Get Link --</a>

            <p style="clear: both">&nbsp;</p>
            <hr />

            <div id="footer">
                <div class="row">
                    <div class="col-auto">
                        <img class="ml-3" src="ahfc_logo.png" width="75" height="58" border="0" alt="AHFC Logo"
                            style="vertical-align:middle">
                    </div>
                    <div class="col">
                        <p>Thanks to the Alaska Housing Finance Corporation for providing most
                            of the source code for this website.</p>
                    </div>
                </div>
            </div>
            <hr />
            <div>BMON Version: Sat Apr 20 19:37:13 2019 -0800</div>
        </div>

    </div>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>

    <!-- Plotly Charting Library -->
    <script src="//cdn.plot.ly/plotly-latest.min.js"></script>

    <script>
        var trace1 = {
            type: 'scatter',
            x: [1, 2, 3, 4],
            y: [5, 10, 2, 8],
            marker: {
                color: '#C8A2C8',
                line: {
                    width: 2.5
                }
            }
        };

        var data = [trace1];

        var layout = {
            title: 'Sensor XYZ from Building B',
            font: { size: 18 },
            height: 550,
            margin: {
                l: 60,
                r: 60
            }
        };

        Plotly.newPlot('results', data, layout, { responsive: true });
    </script>

</body>

</html>